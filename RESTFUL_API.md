# RESTFUL API è©³ç´°èªªæ˜Ž 
## ðŸ“Œ 1. é¦–é èˆ‡ä½¿ç”¨è€…è¨»å†Š

### GET `/`

- **èªªæ˜Ž**ï¼šå›žå‚³æ­¡è¿Žè¨Šæ¯ã€‚
- **åƒæ•¸**ï¼šç„¡
- **å›žæ‡‰ç¯„ä¾‹**ï¼š
  ```
  welcome to the voting website!
  ```

---

### POST `/registUser`

- **èªªæ˜Ž**ï¼šè¨»å†Šæ–°ä½¿ç”¨è€…ã€‚
- **è«‹æ±‚å…§å®¹ï¼ˆJSONï¼‰**ï¼š
  ```json
  {
    "id": "UUID å­—ä¸²ï¼ˆå¯é¸ï¼Œè‡ªå‹•ç”¢ç”Ÿï¼‰",
    "username": "å¸³è™Ÿï¼ˆå¿…å¡«ï¼Œéœ€å”¯ä¸€ï¼‰",
    "password": "å¯†ç¢¼ï¼ˆå¿…å¡«ï¼‰",
    "displayName": "é¡¯ç¤ºåç¨±ï¼ˆå¯é¸ï¼‰"
  }
  ```
- **å›žæ‡‰**ï¼š
  - æˆåŠŸï¼š
    - ç‹€æ…‹ç¢¼ï¼š`200 OK`
    - å…§å®¹ï¼š`User registered successfully`
  - å¤±æ•—ï¼š
    - ç‹€æ…‹ç¢¼ï¼š`400 Bad Request`
    - å…§å®¹ï¼š`Error registering user: éŒ¯èª¤è¨Šæ¯`

---

## ðŸ—³ï¸ 2. æŠ•ç¥¨é …ç›®ç®¡ç† `/voteItem`

### POST `/voteItem`

- **èªªæ˜Ž**ï¼šå»ºç«‹æ–°çš„æŠ•ç¥¨é …ç›®ã€‚
- **è«‹æ±‚å…§å®¹ï¼ˆJSONï¼‰**ï¼š
  ```json
  {
    "title": "æŠ•ç¥¨é …ç›®åç¨±ï¼ˆå¿…å¡«ï¼‰"
  }
  ```
- **å›žæ‡‰**ï¼š
  - æˆåŠŸï¼š
    - ç‹€æ…‹ç¢¼ï¼š`201 Created`
    - å…§å®¹ï¼š`æ–°å¢žæˆåŠŸ`
  - å¤±æ•—ï¼š
    - ç‹€æ…‹ç¢¼ï¼š`400 Bad Request`
    - å…§å®¹ï¼š`æŠ•ç¥¨é …ç›®æ¨™é¡Œä¸èƒ½ç‚ºç©º` æˆ– `æ–°å¢žå¤±æ•—: éŒ¯èª¤è¨Šæ¯`

---

### PATCH `/voteItem/{id}`

- **èªªæ˜Ž**ï¼šæ›´æ–°æ—¢æœ‰æŠ•ç¥¨é …ç›®çš„æ¨™é¡Œã€‚
- **è·¯å¾‘åƒæ•¸**ï¼š
  - `id`ï¼šæŠ•ç¥¨é …ç›® IDï¼ˆLong åž‹æ…‹ï¼‰
- **è«‹æ±‚å…§å®¹ï¼ˆJSONï¼‰**ï¼š
  ```json
  {
    "title": "æ–°çš„æ¨™é¡Œï¼ˆå¿…å¡«ï¼‰"
  }
  ```
- **å›žæ‡‰**ï¼š
  - æˆåŠŸï¼š
    - ç‹€æ…‹ç¢¼ï¼š`200 OK`
    - å…§å®¹ï¼š`æ›´æ–°æˆåŠŸ`
  - å¤±æ•—ï¼š
    - ç‹€æ…‹ç¢¼ï¼š`400 Bad Request`
    - å…§å®¹ï¼š`æ¨™é¡Œä¸èƒ½ç‚ºç©º` æˆ– `æ›´æ–°å¤±æ•—: éŒ¯èª¤è¨Šæ¯`

---

### GET `/voteItem/all`

- **èªªæ˜Ž**ï¼šå–å¾—æ‰€æœ‰æŠ•ç¥¨é …ç›®ã€‚
- **å›žæ‡‰**ï¼š
  - æˆåŠŸï¼š
    - ç‹€æ…‹ç¢¼ï¼š`200 OK`
    - å…§å®¹ï¼š
      ```json
      [
        {
          "id": 1,
          "title": "PC"
        },
        {
          "id": 2,
          "title": "Mouse"
        }
      ]
      ```
  - å¤±æ•—ï¼š
    - ç‹€æ…‹ç¢¼ï¼š`500 Internal Server Error`
    - å…§å®¹ï¼šéŒ¯èª¤è¨Šæ¯

---

## âœ… 3. æŠ•ç¥¨ç´€éŒ„ `/voteRecord`

### GET `/voteRecord`

- **èªªæ˜Ž**ï¼šå–å¾—ç›®å‰ä½¿ç”¨è€…çš„æŠ•ç¥¨ç´€éŒ„ã€‚
- **å›žæ‡‰**ï¼š
  - æˆåŠŸï¼š
    - ç‹€æ…‹ç¢¼ï¼š`200 OK`
    - å…§å®¹ï¼š
      ```json
      [
          {
              "id": 2,
              "user": {
                  "id": "7d3d1d1a-9f84-4f90-83c0-3eb953e4e9b6",
                  "username": "Sandy",
                  "roles": "ROLE_USER",
                  "displayName": "Sandy"
              },
              "voteItem": {
                  "id": 1,
                  "title": "PC"
              }
          },
          {
              "id": 3,
              "user": {
                  "id": "7d3d1d1a-9f84-4f90-83c0-3eb953e4e9b6",
                  "username": "Sandy",
                  "roles": "ROLE_USER",
                  "displayName": "Sandy"
              },
              "voteItem": {
                  "id": 2,
                  "title": "Mouse"
              }
          }
      ]
      ```
  - å¤±æ•—ï¼š
    - ç‹€æ…‹ç¢¼ï¼š`500 Internal Server Error`
    - å…§å®¹ï¼šéŒ¯èª¤è¨Šæ¯

---

### POST `/voteRecord`

- **èªªæ˜Ž**ï¼šæŠ•ç¥¨&æ›´æ–°æŠ•ç¥¨ï¼ˆå¯è¤‡é¸ï¼‰ã€‚
- **è«‹æ±‚å…§å®¹ï¼ˆJSONï¼‰**ï¼š
  ```json
  {
    "voteItemIds": [1, 2, 3]
  }
  ```
- **å›žæ‡‰**ï¼š
  - æˆåŠŸï¼š
    - ç‹€æ…‹ç¢¼ï¼š`200 OK`
    - å…§å®¹ï¼š`æŠ•ç¥¨æˆåŠŸ`
  - å¤±æ•—ï¼š
    - ç‹€æ…‹ç¢¼ï¼š`400 Bad Request`
    - å…§å®¹ï¼š`æŠ•ç¥¨å¤±æ•—: éŒ¯èª¤è¨Šæ¯`

---

## ðŸ“Š 4. æŠ•ç¥¨çµ±è¨ˆ `/votes`

### GET `/votes/summary`

- **èªªæ˜Ž**ï¼šå–å¾—æ‰€æœ‰æŠ•ç¥¨é …ç›®çš„ç¥¨æ•¸çµ±è¨ˆã€‚
- **å›žæ‡‰**ï¼š
  - æˆåŠŸï¼š
    - ç‹€æ…‹ç¢¼ï¼š`200 OK`
    - å…§å®¹ï¼š
      ```json
      [
          {
              "id": 1,
              "title": "PC",
              "voteCount": 3
          },
          {
              "id": 2,
              "title": "Mouse",
              "voteCount": 3
          }
      ]
      ```

---

## ðŸ” æ³¨æ„äº‹é …

- æ‰€æœ‰è«‹æ±‚èˆ‡å›žæ‡‰çš†ç‚º JSON æ ¼å¼ï¼ˆé™¤é¦–é ï¼‰ã€‚
- è¨˜å¾—åŠ ä¸Š `Content-Type: application/json` æ¨™é ­ã€‚
- æ‰€æœ‰éœ€é©—è­‰çš„ API éœ€å…ˆç™»å…¥ï¼Œè«‹ä½¿ç”¨postman Authorization-> Basic Auth å¸³è™Ÿ:Leo å¯†ç¢¼:123
![alt text](/md_images/image.png)
